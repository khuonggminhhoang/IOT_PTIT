extends ../layouts/default

block main
  .container-fluid
    .row
      .col-md-12
        .card
          .card-header.text-center
            h4 Sensor Log - Lịch sử Đếm Người Ra Vào Cửa
            p.text-muted Xem chi tiết các sự kiện ra vào được ghi nhận bởi cảm biến.

    .row.mt-4
      //- Form lọc dữ liệu
      .col-md-12
        .card
          .card-body
            h5 Lọc Dữ Liệu
            form(method="GET", action="/sensorlog")
              .row
                .col-md-4
                  .form-group
                    label(for="fromDate") Ngày thống kê:
                    input#fromDate.form-control(type="date", name="fromDate", required)
                .col-md-4
                  .form-group
                    label(for="fromHour") Giờ bắt đầu:
                    input#fromHour.form-control(type="time", name="fromHour", required)
                .col-md-4
                  .form-group
                    label(for="toHour") Giờ kết thúc:
                    input#toHour.form-control(type="time", name="toHour", required)
                .col-md-12
                  .form-group
                    button.btn.btn-primary.w-100(type="submit") Lọc Dữ Liệu

    .row.mt-4
      //- Bảng dữ liệu
      .col-md-12
        .card
          .card-body
            h5 Danh Sách Lịch Sử Ghi Nhận
            table.table.table-hover.table-bordered
              thead.thead-dark
                tr
                  th Thời Gian
                  th Hướng
                  th Số Lượng
                  th Cảm Biến
              tbody
                each log in visitor_logs
                  tr
                    td= log.timestamp
                    td= log.direction == 'in' ? 'Vào' : 'Ra'
                    td= log.quantity
                    td= log.sensor_name
